<!DOCTYPE html>
<html>
<head>
    <title>Chat with {{ other_user.username }}</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="container">
        <h2>Chat with {{ other_user.username }}</h2>

        <!-- Chat Box -->
        <div class="chat-box">
            {% for msg in messages %}
                {% if msg.sender_id == current_user.id %}
                    <div class="chat-message you">
                        <b>You:</b> {{ msg.content }}
                        <div class="timestamp">{{ msg.timestamp.strftime('%Y-%m-%d %H:%M') }}</div>
                    </div>
                {% else %}
                    <div class="chat-message other">
                        <b>{{ other_user.username }}:</b> {{ msg.content }}
                        <div class="timestamp">{{ msg.timestamp.strftime('%Y-%m-%d %H:%M') }}</div>
                    </div>
                {% endif %}
            {% endfor %}
        </div>

        <!-- Message Form -->
        <form method="POST">
            <textarea name="content" placeholder="Type your message..." required></textarea>
            <input type="submit" value="Send">
        </form>

        <br>
        <a href="{{ url_for('dashboard') }}"><button>â¬… Back to Dashboard</button></a>
    </div>
</body>
</html>
